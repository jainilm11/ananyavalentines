:root{
  --background-color-1:#ffafbd;
  --background-color-2:#ffc3a0;
  --button-color:#ff6b6b;
  --button-hover:#ff8787;
  --text-color:#ff4757;

  --float-duration:8s;
  --float-distance:20px;
  --bounce-speed:0.5s;
  --heart-explosion-size:2.0;
}

body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,var(--background-color-1),var(--background-color-2));
  font-family:Poppins, Inter, Arial, sans-serif;
  overflow-x:hidden;
}

.floating-elements{
  position:fixed;
  width:100%;
  height:100%;
  pointer-events:none;
  z-index:1;
}

.heart,.bear{
  position:absolute;
  font-size:2rem;
  animation:float var(--float-duration) linear infinite;
}

@keyframes float{
  0%{transform:translateY(100vh) translateX(0);}
  100%{transform:translateY(-100px) translateX(var(--float-distance));}
}

.container{
  background:rgba(255,255,255,0.92);
  padding:2rem;
  border-radius:24px;
  box-shadow:0 0 24px rgba(0,0,0,0.12);
  text-align:center;
  max-width:750px;
  width: min(750px, 92vw);
  margin:20px;
  position:relative;
  z-index:2;
}

h1{ color:var(--button-color); margin: 0 0 10px; }
h2{ color:var(--text-color); margin: 8px 0; }

.hidden{ display:none !important; }

.btn-row{
  display:flex;
  justify-content:center;
  gap:12px;
  flex-wrap:wrap;
  margin-top: 14px;
}

.cute-btn{
  background:var(--button-color);
  border:none;
  padding:10px 18px;
  border-radius:999px;
  color:white;
  font-size:1.05rem;
  cursor:pointer;
  transition:transform 0.2s, background 0.2s;
}

.cute-btn:hover{
  transform:scale(1.06);
  background:var(--button-hover);
}

.cute-btn.secondary{
  background: rgba(255, 107, 107, 0.18);
  color: var(--text-color);
}

.disabled-btn{ opacity:0.6; pointer-events:none; }

.grow-big{ transform: scale(1.35) !important; }

.muted{ color: rgba(0,0,0,0.55); }

/* ---------- MUSIC ---------- */
.music-controls{
  position:fixed;
  top:20px;
  right:20px;
  z-index:1000;
}
.music-btn{
  background:var(--button-color);
  color:white;
  border:none;
  padding:10px 16px;
  border-radius:999px;
  cursor:pointer;
  transition:transform 0.2s, background 0.2s;
  box-shadow:0 2px 10px rgba(0,0,0,0.15);
}
.music-btn:hover{
  transform:scale(1.05);
  background:var(--button-hover);
}

/* ---------- GIFT OVERLAY ---------- */
.gift-overlay{
  position: fixed;
  inset: 0;
  z-index: 99999;
  background: rgba(0,0,0,0.18);
  backdrop-filter: blur(6px);

  display: flex;
  align-items: center;
  justify-content: center;

  pointer-events: auto; /* ðŸ‘ˆ REQUIRED */
}


.modal{
  z-index: 99998;        /* slightly under gift overlay */
}

/* Also ensure other stuff can't sit above */
.container{ position: relative; z-index: 2; }
.floating-elements{ z-index: 1; }

.gift-wrap, .gift-ribbon { pointer-events: none; }
.unwrap-btn{
  position: relative;
  z-index: 10;
}

.gift-card{
  width: min(760px, 92vw);
  height: min(520px, 82vh);
  border-radius: 24px;
  overflow:hidden;
  position:relative;
  box-shadow: 0 20px 80px rgba(0,0,0,0.28);
  background:white;
}

.gift-under{
  position:absolute;
  inset:0;
}
.gift-under img{
  width:100%;
  height:100%;
  object-fit:cover;
  filter: saturate(1.05);
}

.gift-cover{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:14px;
  color:black;
  text-align:center;
  padding:24px;
}

.gift-wrap{
  position:absolute;
  inset:0;
  background:
    linear-gradient(135deg, rgba(255,107,107,0.92), rgba(255,135,135,0.86)),
    repeating-linear-gradient(45deg, rgba(255,255,255,0.10) 0 10px, rgba(255,255,255,0.04) 10px 20px);
}

.gift-ribbon{
  position:absolute;
  inset:0;
  background:
    linear-gradient(to right, transparent 0 45%, rgba(255,255,255,0.25) 45% 55%, transparent 55% 100%),
    linear-gradient(to bottom, transparent 0 45%, rgba(255,255,255,0.25) 45% 55%, transparent 55% 100%);
  mix-blend-mode: screen;
}

.gift-text{
  position:relative;
  z-index:2;
}
.gift-text h1{ color:white; margin:0; }
.gift-text p{ margin:0; opacity:0.9; }

.tiny-hint{
  position:relative;
  z-index:2;
  font-size: 0.85rem;
  opacity: 0.85;
}

.gift-overlay.unwrapped .gift-wrap,
.gift-overlay.unwrapped .gift-ribbon{
  animation: peel 0.65s ease forwards;
}
@keyframes peel{
  to { transform: translateY(-110%); opacity: 0; }
}

/* ---------- STORY ---------- */
.story-card{
  display:grid;
  grid-template-columns: 1.2fr 1fr;
  gap:16px;
  align-items:stretch;
  margin-top: 14px;
}
.story-img{
  width:100%;
  height: 340px;
  object-fit:cover;
  border-radius: 18px;
}
.story-body{
  background: rgba(255, 107, 107, 0.08);
  border-radius: 18px;
  padding: 14px;
  text-align:left;
}

/* small screens */
@media (max-width: 720px){
  .story-card{ grid-template-columns: 1fr; }
  .story-img{ height: 280px; }
}

/* ---------- LOVE METER GAME ---------- */
.love-game{
  margin-top: 18px;
}

.love-meter{
  width: 100%;
  height: 18px;
  border-radius: 999px;
  background: rgba(0,0,0,0.08);
  overflow: hidden;
  margin: 12px 0 14px;
}

.love-fill{
  height: 100%;
  width: 0%;
  border-radius: 999px;
  background: var(--button-color);
  transition: width 0.25s ease;
}

/* Love Meter feedback */
.love-fill{
  transition: width 0.35s ease;
}

/* Completion pulse */
.love-fill.pulse{
  animation: fillPulse 0.7s ease-in-out infinite alternate;
}
@keyframes fillPulse{
  from { filter: brightness(1); }
  to   { filter: brightness(1.25); }
}

/* Tap heart burst particles */
.tap-heart{
  position: fixed;
  z-index: 9999;
  font-size: 1.4rem;
  pointer-events: none;
  animation: tapPop 1.2s ease forwards;
}
@keyframes tapPop{
  0%   { transform: translate(0,0) scale(0.6); opacity: 0; }
  15%  { opacity: 1; }
  100% { transform: translate(calc(-60px + 120px * var(--rand, 0.5)), -140px) scale(1.2); opacity: 0; }
}

/* ---------- Celebration ---------- */
.celebration-text{
  font-size:1.4em;
  color:var(--text-color);
  font-weight:700;
  margin:12px 0;
  animation:bounce var(--bounce-speed) infinite alternate;
}
@keyframes bounce{
  from{transform:scale(1);}
  to{transform:scale(1.12);}
}

/* ---------- EASTER EGG BUTTON ---------- */
.easter-egg{
  position: absolute;
  right: 14px;
  bottom: 14px;
  width: 18px;
  height: 18px;
  border-radius: 999px;
  border: none;
  background: rgba(255, 71, 87, 0.18);
  cursor: pointer;
  opacity: 0.25;
}
.easter-egg:hover{ opacity: 0.7; }
.easter-egg.pop{ animation: pop 0.4s ease; }
@keyframes pop{ 50%{ transform: scale(1.8); } }
/* CLICK-TO-UNWRAP NUCLEAR FIX */

#giftOverlay * { color: black !important; }

/* ---------- POLAROID RAIN ---------- */
.polaroid {
  position: fixed;
  top: -160px;
  width: 140px;
  background: rgba(255,255,255,0.96);
  border-radius: 14px;
  padding: 10px 10px 14px;
  box-shadow: 0 18px 45px rgba(0,0,0,0.22);
  z-index: 999999;
  pointer-events: none;
  transform-origin: center;
}

.polaroid img {
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 10px;
  display: block;
}

.polaroid .cap {
  margin-top: 8px;
  font-size: 0.9rem;
  font-weight: 600;
  color: rgba(0,0,0,0.75);
  text-align: center;
  font-family: Poppins, Inter, Arial, sans-serif;
}

@keyframes polaroidFall {
  0% {
    transform: translateY(-180px) rotate(var(--rot));
    opacity: 0;
  }
  10% { opacity: 1; }
  100% {
    transform: translateY(115vh) rotate(calc(var(--rot) * 1.4));
    opacity: 0;
  }
}

/* YES grows when NO is attempted */
.yes-grow {
  transform: scale(1.15);
  transition: transform 0.25s ease;
}

